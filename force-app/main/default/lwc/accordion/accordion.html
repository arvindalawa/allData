<template>
    <p>{activeSectionsMessage}</p>
    
    <template for:each={accordion} for:item="accord">
        <div class="slds-p-left_large" key = {accord.id} >
            <lightning-accordion-section name="Title" label={accord.title_label} ></lightning-accordion-section>
            <div class=”slds-m-around_medium”>
                <lightning-button
                    data-id={accord.id}
                    label="Expand All"
                    onclick={expandAll}
                    class="slds-m-around_medium">
                </lightning-button>
                <lightning-button
                    label="Collapse All"
                    onclick={collapseAll}
                    class="slds-m-around_medium">
                </lightning-button>
            </div>
         
            <lightning-accordion allow-multiple-sections-open
                                onsectiontoggle={handleSectionToggle}
                                active-section-name={activeSections}>
                <template for:each={accord.accordionData} for:item="item">
                    <template if:true={accord.isVisible}>
                        <div key={item.id} class="slds-box slds-box_small slds-m-bottom_large accordion__container">
                            <lightning-accordion-section name={item.name} label={item.label}>
                                <p>{item.para}</p>
                                <lightning-button-menu slot="actions"
                                    alternative-text="Show menu"
                                    icon-name="utility:threedots_vertical"
                                    icon-size="x-small"
                                    menu-alignment="right"
                                    >
                                    <template for:each={item.menu} for:item="menus">
                                        <div key={menus.label}>
                                            <lightning-menu-item value="New" label={menus.menu_label}></lightning-menu-item>
                                        </div>
                                    </template>
                                </lightning-button-menu>
                            </lightning-accordion-section>
                        </div>
                    </template>
                </template>
            </lightning-accordion>
        </div>        
    </template>    
</template> 
